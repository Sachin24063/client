{"ast":null,"code":"import{Group,Image,NumberInput,Text,Title,createStyles,ActionIcon}from\"@mantine/core\";import{useForm}from\"@mantine/form\";import{useDispatch}from\"react-redux\";import{removeFromCart,updateCart}from\"../redux/slices/cartSlice\";import{HiOutlineMinus,HiOutlinePlus}from\"react-icons/hi\";import{IoClose}from\"react-icons/io5\";import{useRef}from\"react\";import React from\"react\";const useStyles=createStyles(theme=>({wrapper:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"6px \".concat(theme.spacing.xs,\"px\"),borderRadius:theme.radius.sm,border:\"1px solid \".concat(theme.colorScheme===\"dark\"?\"transparent\":theme.colors.gray[3]),backgroundColor:theme.colorScheme===\"dark\"?theme.colors.dark[5]:\"#e9e9ec\"},input:{textAlign:\"center\",paddingRight:\"\".concat(theme.spacing.sm,\"px !important\"),paddingLeft:\"\".concat(theme.spacing.sm,\"px !important\"),height:28,width:55},control:{backgroundColor:theme.colorScheme===\"dark\"?theme.colors.dark[7]:\"#cbcbcb\",border:\"1px solid \".concat(theme.colorScheme===\"dark\"?\"transparent\":theme.colors.gray[3]),\"&:disabled\":{borderColor:\"transparent\",opacity:theme.colorScheme===\"dark\"?0.8:1,backgroundColor:\"transparent\"}},ProductDetailsTD:{width:450}}));const CartItem=_ref=>{let{cart,item}=_ref;const{classes}=useStyles();const dispatch=useDispatch();const qtyRef=useRef();const form=useForm({initialValues:{cartId:cart,pizzaId:item.pizza._id,quantity:item.quantity}});const formOfRemoveItem=useForm({initialValues:{cartId:cart,pizzaId:item.pizza._id}});return/*#__PURE__*/React.createElement(\"tr\",{key:item._id},/*#__PURE__*/React.createElement(\"td\",{className:classes.ProductDetailsTD},/*#__PURE__*/React.createElement(Group,{spacing:\"sm\",sx:{flexWrap:\"nowrap\"}},/*#__PURE__*/React.createElement(Image,{fit:\"fill\",src:item.pizza.image,width:120,height:90,withPlaceholder:true,radius:\"sm\"}),/*#__PURE__*/React.createElement(Title,{sx:theme=>({fontFamily:theme.fontFamily}),order:4},item.pizza.name))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Text,null,item.pizza.price,\"DA\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Group,{position:\"center\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.wrapper},/*#__PURE__*/React.createElement(ActionIcon,{size:28,variant:\"transparent\",disabled:form.values.quantity===1,onClick:()=>{form.setFieldValue(\"quantity\",form.values.quantity-1);dispatch(updateCart({...form.values,quantity:form.values.quantity-1}));},className:classes.control},/*#__PURE__*/React.createElement(HiOutlineMinus,null)),/*#__PURE__*/React.createElement(NumberInput,{ref:qtyRef,hideControls:true,variant:\"unstyled\",min:1,value:form.values.quantity,onChange:e=>{if(isNaN(e))return;form.setFieldValue(\"quantity\",e);dispatch(updateCart({...form.values,quantity:e}));},classNames:{input:classes.input}}),/*#__PURE__*/React.createElement(ActionIcon,{size:28,variant:\"transparent\",className:classes.control,onClick:()=>{form.setFieldValue(\"quantity\",form.values.quantity+1);dispatch(updateCart({...form.values,quantity:form.values.quantity+1}));}},/*#__PURE__*/React.createElement(HiOutlinePlus,null))))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Text,null,item.subTotal,\"DA\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(ActionIcon,{size:28,variant:\"transparent\",onClick:()=>{dispatch(removeFromCart(formOfRemoveItem.values));},className:classes.control},/*#__PURE__*/React.createElement(IoClose,null))));};export default CartItem;","map":{"version":3,"names":["Group","Image","NumberInput","Text","Title","createStyles","ActionIcon","useForm","useDispatch","removeFromCart","updateCart","HiOutlineMinus","HiOutlinePlus","IoClose","useRef","React","useStyles","theme","wrapper","display","alignItems","justifyContent","padding","concat","spacing","xs","borderRadius","radius","sm","border","colorScheme","colors","gray","backgroundColor","dark","input","textAlign","paddingRight","paddingLeft","height","width","control","borderColor","opacity","ProductDetailsTD","CartItem","_ref","cart","item","classes","dispatch","qtyRef","form","initialValues","cartId","pizzaId","pizza","_id","quantity","formOfRemoveItem","createElement","key","className","sx","flexWrap","fit","src","image","withPlaceholder","fontFamily","order","name","price","position","size","variant","disabled","values","onClick","setFieldValue","ref","hideControls","min","value","onChange","e","isNaN","classNames","subTotal"],"sources":["/home/devuser/SACHIN/client/src/components/CartItem.js"],"sourcesContent":["import {\n  Group,\n  Image,\n  NumberInput,\n  Text,\n  Title,\n  createStyles,\n  ActionIcon,\n} from \"@mantine/core\";\nimport { useForm } from \"@mantine/form\";\nimport { useDispatch } from \"react-redux\";\nimport { removeFromCart, updateCart } from \"../redux/slices/cartSlice\";\nimport { HiOutlineMinus, HiOutlinePlus } from \"react-icons/hi\";\nimport { IoClose } from \"react-icons/io5\";\nimport { useRef } from \"react\";\nimport React from \"react\";\n\nconst useStyles = createStyles((theme) => ({\n  wrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: `6px ${theme.spacing.xs}px`,\n    borderRadius: theme.radius.sm,\n    border: `1px solid ${\n      theme.colorScheme === \"dark\" ? \"transparent\" : theme.colors.gray[3]\n    }`,\n    backgroundColor:\n      theme.colorScheme === \"dark\" ? theme.colors.dark[5] : \"#e9e9ec\",\n  },\n  input: {\n    textAlign: \"center\",\n    paddingRight: `${theme.spacing.sm}px !important`,\n    paddingLeft: `${theme.spacing.sm}px !important`,\n    height: 28,\n    width: 55,\n  },\n  control: {\n    backgroundColor:\n      theme.colorScheme === \"dark\" ? theme.colors.dark[7] : \"#cbcbcb\",\n    border: `1px solid ${\n      theme.colorScheme === \"dark\" ? \"transparent\" : theme.colors.gray[3]\n    }`,\n\n    \"&:disabled\": {\n      borderColor: \"transparent\",\n      opacity: theme.colorScheme === \"dark\" ? 0.8 : 1,\n      backgroundColor: \"transparent\",\n    },\n  },\n  ProductDetailsTD: {\n    width: 450,\n  },\n}));\n\nconst CartItem = ({ cart, item }) => {\n  const { classes } = useStyles();\n  const dispatch = useDispatch();\n  const qtyRef = useRef();\n  const form = useForm({\n    initialValues: {\n      cartId: cart,\n      pizzaId: item.pizza._id,\n      quantity: item.quantity,\n    },\n  });\n\n  const formOfRemoveItem = useForm({\n    initialValues: {\n      cartId: cart,\n      pizzaId: item.pizza._id,\n    },\n  });\n\n  return (\n    <tr key={item._id}>\n      <td className={classes.ProductDetailsTD}>\n        <Group spacing=\"sm\" sx={{ flexWrap: \"nowrap\" }}>\n          <Image\n            fit=\"fill\"\n            src={item.pizza.image}\n            width={120}\n            height={90}\n            withPlaceholder\n            radius=\"sm\"\n          />\n          <Title\n            sx={(theme) => ({\n              fontFamily: theme.fontFamily,\n            })}\n            order={4}\n          >\n            {item.pizza.name}\n          </Title>\n        </Group>\n      </td>\n      <td>\n        <Text>{item.pizza.price}DA</Text>\n      </td>\n      <td>\n        <Group position=\"center\">\n          <div className={classes.wrapper}>\n            <ActionIcon\n              size={28}\n              variant=\"transparent\"\n              disabled={form.values.quantity === 1}\n              onClick={() => {\n                form.setFieldValue(\"quantity\", form.values.quantity - 1);\n                dispatch(\n                  updateCart({\n                    ...form.values,\n                    quantity: form.values.quantity - 1,\n                  })\n                );\n              }}\n              className={classes.control}\n            >\n              <HiOutlineMinus />\n            </ActionIcon>\n            <NumberInput\n              ref={qtyRef}\n              hideControls\n              variant=\"unstyled\"\n              min={1}\n              value={form.values.quantity}\n              onChange={(e) => {\n                if (isNaN(e)) return;\n                form.setFieldValue(\"quantity\", e);\n                dispatch(updateCart({ ...form.values, quantity: e }));\n              }}\n              classNames={{ input: classes.input }}\n            />\n            <ActionIcon\n              size={28}\n              variant=\"transparent\"\n              className={classes.control}\n              onClick={() => {\n                form.setFieldValue(\"quantity\", form.values.quantity + 1);\n                dispatch(\n                  updateCart({\n                    ...form.values,\n                    quantity: form.values.quantity + 1,\n                  })\n                );\n              }}\n            >\n              <HiOutlinePlus />\n            </ActionIcon>\n          </div>\n        </Group>\n      </td>\n      <td>\n        <Text>{item.subTotal}DA</Text>\n      </td>\n      <td>\n        <ActionIcon\n          size={28}\n          variant=\"transparent\"\n          onClick={() => {\n            dispatch(removeFromCart(formOfRemoveItem.values));\n          }}\n          className={classes.control}\n        >\n          <IoClose />\n        </ActionIcon>\n      </td>\n    </tr>\n  );\n};\n\nexport default CartItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}