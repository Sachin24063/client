{"ast":null,"code":"import{Paper,Table,Title}from\"@mantine/core\";import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useOutletContext}from\"react-router-dom\";import{getUserOrders,clearUserOrders}from\"../../redux/slices/authSlice\";import OrderItem from\"../OrderItem\";import SkeletonUserOrders from\"../Skeletons/SkeletonUserOrders\";import React from\"react\";const UserOrders=()=>{const user=useOutletContext();const{userOrders:orders,getUserOrders:getUserOrdersState}=useSelector(state=>state.auth);const dispatch=useDispatch();useEffect(()=>{dispatch(getUserOrders(user===null||user===void 0?void 0:user._id));return()=>{dispatch(clearUserOrders());};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[dispatch]);return/*#__PURE__*/React.createElement(Paper,{sx:theme=>({[theme.fn.smallerThan(\"md\")]:{marginTop:60},backgroundColor:theme.colorScheme===\"dark\"?theme.colors.dark[6]:\"#fff\"}),my:\"md\",shadow:\"xs\",radius:\"md\",p:\"lg\",withBorder:true},(getUserOrdersState===null||getUserOrdersState===void 0?void 0:getUserOrdersState.loading)&&/*#__PURE__*/React.createElement(SkeletonUserOrders,null),!getUserOrdersState.loading&&(orders===null||orders===void 0?void 0:orders.length)===0&&/*#__PURE__*/React.createElement(Title,{order:3,sx:theme=>({fontFamily:theme.fontFamily})},\"You have no orders yet.\"),!getUserOrdersState.loading&&(orders===null||orders===void 0?void 0:orders.length)>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Title,{order:3,sx:theme=>({fontFamily:theme.fontFamily})},\"Your Orders\"),/*#__PURE__*/React.createElement(\"div\",{style:{overflowX:\"auto\"},className:\"responsive-table\"},/*#__PURE__*/React.createElement(Table,{verticalSpacing:\"md\",striped:true,highlightOnHover:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Order ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Menu\"),/*#__PURE__*/React.createElement(\"th\",null,\"Address\"),/*#__PURE__*/React.createElement(\"th\",null,\"Total\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Show Details\"))),/*#__PURE__*/React.createElement(\"tbody\",null,orders===null||orders===void 0?void 0:orders.map(order=>/*#__PURE__*/React.createElement(OrderItem,{key:order._id,order:order})))))));};export default UserOrders;","map":{"version":3,"names":["Paper","Table","Title","useEffect","useDispatch","useSelector","useOutletContext","getUserOrders","clearUserOrders","OrderItem","SkeletonUserOrders","React","UserOrders","user","userOrders","orders","getUserOrdersState","state","auth","dispatch","_id","createElement","sx","theme","fn","smallerThan","marginTop","backgroundColor","colorScheme","colors","dark","my","shadow","radius","p","withBorder","loading","length","order","fontFamily","Fragment","style","overflowX","className","verticalSpacing","striped","highlightOnHover","map","key"],"sources":["/home/devuser/SACHIN/client/src/components/Profile/UserOrders.js"],"sourcesContent":["import { Paper, Table, Title } from \"@mantine/core\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { getUserOrders, clearUserOrders } from \"../../redux/slices/authSlice\";\nimport OrderItem from \"../OrderItem\";\nimport SkeletonUserOrders from \"../Skeletons/SkeletonUserOrders\";\nimport React from \"react\";\n\nconst UserOrders = () => {\n  const user = useOutletContext();\n  const { userOrders: orders, getUserOrders: getUserOrdersState } = useSelector(\n    (state) => state.auth\n  );\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getUserOrders(user?._id));\n    return () => {\n      dispatch(clearUserOrders());\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch]);\n\n  return (\n    <Paper\n      sx={(theme) => ({\n        [theme.fn.smallerThan(\"md\")]: {\n          marginTop: 60,\n        },\n        backgroundColor:\n          theme.colorScheme === \"dark\" ? theme.colors.dark[6] : \"#fff\",\n      })}\n      my=\"md\"\n      shadow=\"xs\"\n      radius=\"md\"\n      p=\"lg\"\n      withBorder\n    >\n      {getUserOrdersState?.loading && <SkeletonUserOrders />}\n      {!getUserOrdersState.loading && orders?.length === 0 && (\n        <Title\n          order={3}\n          sx={(theme) => ({\n            fontFamily: theme.fontFamily,\n          })}\n        >\n          You have no orders yet.\n        </Title>\n      )}\n      {!getUserOrdersState.loading && orders?.length > 0 && (\n        <>\n          <Title\n            order={3}\n            sx={(theme) => ({\n              fontFamily: theme.fontFamily,\n            })}\n          >\n            Your Orders\n          </Title>\n          <div\n            style={{\n              overflowX: \"auto\",\n            }}\n            className=\"responsive-table\"\n          >\n            <Table verticalSpacing=\"md\" striped highlightOnHover>\n              <thead>\n                <tr>\n                  <th>Order ID</th>\n                  <th>Date</th>\n                  <th>Menu</th>\n                  <th>Address</th>\n                  <th>Total</th>\n                  <th>Status</th>\n                  <th>Show Details</th>\n                </tr>\n              </thead>\n              <tbody>\n                {orders?.map((order) => (\n                  <OrderItem key={order._id} order={order} />\n                ))}\n              </tbody>\n            </Table>\n          </div>\n        </>\n      )}\n    </Paper>\n  );\n};\n\nexport default UserOrders;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}