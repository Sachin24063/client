{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"../../utils/axios\";const initialState={pizzas:[],filters:{price:[200,4000],search:\"\"},loading:false};export const getPizzas=createAsyncThunk(\"pizza/getAll\",async(filters,_ref)=>{let{rejectWithValue}=_ref;try{const{data}=await axios.post(\"/pizza/getAll\",filters);return data;}catch(err){return rejectWithValue(err.response.data);}});const pizzaSlice=createSlice({name:\"pizza\",initialState,reducers:{setFilters:(state,action)=>{state.filters.price=action.payload.price;state.filters.search=action.payload.search;},clearFilters:state=>{state.filters=initialState.filters;}},extraReducers:builder=>{builder.addCase(getPizzas.pending,state=>{state.loading=true;state.pizzas=[];}).addCase(getPizzas.fulfilled,(state,action)=>{state.loading=false;state.pizzas=action.payload;}).addCase(getPizzas.rejected,state=>{state.loading=false;});}});export const{setFilters,clearFilters}=pizzaSlice.actions;export default pizzaSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","pizzas","filters","price","search","loading","getPizzas","_ref","rejectWithValue","data","post","err","response","pizzaSlice","name","reducers","setFilters","state","action","payload","clearFilters","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["/home/devuser/SACHIN/client/src/redux/slices/pizzaSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../utils/axios\";\n\nconst initialState = {\n  pizzas: [],\n  filters: {\n    price: [200, 4000],\n    search: \"\",\n  },\n  loading: false,\n};\n\nexport const getPizzas = createAsyncThunk(\n  \"pizza/getAll\",\n  async (filters, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/pizza/getAll\", filters);\n      return data;\n    } catch (err) {\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nconst pizzaSlice = createSlice({\n  name: \"pizza\",\n  initialState,\n  reducers: {\n    setFilters: (state, action) => {\n      state.filters.price = action.payload.price;\n      state.filters.search = action.payload.search;\n    },\n    clearFilters: (state) => {\n      state.filters = initialState.filters;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getPizzas.pending, (state) => {\n        state.loading = true;\n        state.pizzas = [];\n      })\n      .addCase(getPizzas.fulfilled, (state, action) => {\n        state.loading = false;\n        state.pizzas = action.payload;\n      })\n      .addCase(getPizzas.rejected, (state) => {\n        state.loading = false;\n      });\n  },\n});\n\nexport const { setFilters, clearFilters } = pizzaSlice.actions;\n\nexport default pizzaSlice.reducer;\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,MAAO,CAAAC,KAAK,KAAM,mBAAmB,CAErC,KAAM,CAAAC,YAAY,CAAG,CACnBC,MAAM,CAAE,EAAE,CACVC,OAAO,CAAE,CACPC,KAAK,CAAE,CAAC,GAAG,CAAE,IAAI,CAAC,CAClBC,MAAM,CAAE,EACV,CAAC,CACDC,OAAO,CAAE,KACX,CAAC,CAED,MAAO,MAAM,CAAAC,SAAS,CAAGR,gBAAgB,CACvC,cAAc,CACd,MAAOI,OAAO,CAAAK,IAAA,GAA0B,IAAxB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CACjC,GAAI,CACF,KAAM,CAAEE,IAAK,CAAC,CAAG,KAAM,CAAAV,KAAK,CAACW,IAAI,CAAC,eAAe,CAAER,OAAO,CAAC,CAC3D,MAAO,CAAAO,IAAI,CACb,CAAE,MAAOE,GAAG,CAAE,CACZ,MAAO,CAAAH,eAAe,CAACG,GAAG,CAACC,QAAQ,CAACH,IAAI,CAAC,CAC3C,CACF,CACF,CAAC,CAED,KAAM,CAAAI,UAAU,CAAGhB,WAAW,CAAC,CAC7BiB,IAAI,CAAE,OAAO,CACbd,YAAY,CACZe,QAAQ,CAAE,CACRC,UAAU,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC7BD,KAAK,CAACf,OAAO,CAACC,KAAK,CAAGe,MAAM,CAACC,OAAO,CAAChB,KAAK,CAC1Cc,KAAK,CAACf,OAAO,CAACE,MAAM,CAAGc,MAAM,CAACC,OAAO,CAACf,MAAM,CAC9C,CAAC,CACDgB,YAAY,CAAGH,KAAK,EAAK,CACvBA,KAAK,CAACf,OAAO,CAAGF,YAAY,CAACE,OAAO,CACtC,CACF,CAAC,CACDmB,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CACJC,OAAO,CAACjB,SAAS,CAACkB,OAAO,CAAGP,KAAK,EAAK,CACrCA,KAAK,CAACZ,OAAO,CAAG,IAAI,CACpBY,KAAK,CAAChB,MAAM,CAAG,EAAE,CACnB,CAAC,CAAC,CACDsB,OAAO,CAACjB,SAAS,CAACmB,SAAS,CAAE,CAACR,KAAK,CAAEC,MAAM,GAAK,CAC/CD,KAAK,CAACZ,OAAO,CAAG,KAAK,CACrBY,KAAK,CAAChB,MAAM,CAAGiB,MAAM,CAACC,OAAO,CAC/B,CAAC,CAAC,CACDI,OAAO,CAACjB,SAAS,CAACoB,QAAQ,CAAGT,KAAK,EAAK,CACtCA,KAAK,CAACZ,OAAO,CAAG,KAAK,CACvB,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEW,UAAU,CAAEI,YAAa,CAAC,CAAGP,UAAU,CAACc,OAAO,CAE9D,cAAe,CAAAd,UAAU,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}