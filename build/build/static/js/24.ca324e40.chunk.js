(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[24],{424:function(e,a,r){"use strict";r.r(a);var s=r(260),t=r(286),o=r(291),l=r(411),n=r(438),d=r(292),i=r(325),c=r(415),u=r(344),m=r(428),w=r(273),b=r(3),p=r(85),v=r(45),f=r(0),g=r.n(f);const h=Object(s.a)(e=>({indicatorRoot:{position:"relative"},indicator:{position:"absolute",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:100,backgroundColor:e.colors.orange[9],borderWidth:2,borderStyle:"solid",borderColor:"dark"===e.colorScheme?"#16181a":"#fff",color:"#fff",whiteSpace:"nowrap",bottom:14,right:14,transform:"translate(50%, 50%)",width:30,height:30,borderRadius:"50%",padding:5}}));a.default=()=>{var e,a,r,s;const{updateUser:P}=Object(v.c)(e=>e.auth),{classes:j}=h(),k=Object(b.s)(),E=Object(v.b)(),O=Object(f.useRef)(null),N=Object(m.a)({initialValues:{id:(null===k||void 0===k?void 0:k._id)?null===k||void 0===k?void 0:k._id:"",userAvatar:(null===k||void 0===k||null===(e=k.avatar)||void 0===e?void 0:e.url)?null===k||void 0===k||null===(a=k.avatar)||void 0===a?void 0:a.url:"",firstName:(null===k||void 0===k?void 0:k.firstName)?null===k||void 0===k?void 0:k.firstName:"",lastName:(null===k||void 0===k?void 0:k.lastName)?null===k||void 0===k?void 0:k.lastName:"",email:(null===k||void 0===k?void 0:k.email)?null===k||void 0===k?void 0:k.email:"",username:(null===k||void 0===k?void 0:k.username)?null===k||void 0===k?void 0:k.username:"",currentPassword:"",newPassword:"",confirmPassword:""},validate:{firstName:e=>/^[a-zA-Z]{2,}(?:[\s'-][a-zA-Z]+)*$/.test(e)?null:"Invalid first name!",lastName:e=>/^[a-zA-Z]{2,}(?:[\s'-][a-zA-Z]+)*$/.test(e)?null:"Invalid last name!",email:e=>/^\s*$/.test(e)||/^[\w.-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?null:"Invalid email!",username:e=>/^\s*$/.test(e)?null:/^[a-zA-Z][\w\W]*$/.test(e)?/^[A-Za-z][A-Za-z0-9_]{7,29}$/.test(e)?null:"Username must be between 7 and 29 characters long, and can only contain letters, numbers, and underscores!":"Username must start with a letter!",currentPassword:(e,a)=>!/^\s*$/.test(e)||""===a.newPassword&&""===a.confirmPassword?/^\w{6,16}$/.test(e)||""===a.newPassword&&""===a.confirmPassword?null:"Password must be between 6 and 16 characters long!":"Current password is required!",newPassword:(e,a)=>/^\s*$/.test(e)&&""!==a.currentPassword?"New password is required!":/^\w{6,16}$/.test(e)||""===a.confirmPassword?e!==a.confirmPassword?"Passwords do not match!":null:"Password must be between 6 and 16 characters long!",confirmPassword:(e,a)=>/^\s*$/.test(e)&&""!==a.currentPassword?"Confirm password is required!":/^\w{6,16}$/.test(e)||""===a.newPassword?""!==a.newPassword&&e!==a.newPassword?"Passwords do not match!":null:"Password must be between 6 and 16 characters long!"},validateInputOnBlur:!0});return Object(f.useEffect)(()=>()=>{E(Object(p.c)())},[E]),g.a.createElement("form",{onSubmit:N.onSubmit(e=>{var a;(null===Object||void 0===Object||null===(a=Object.entries(N.errors))||void 0===a?void 0:a.length)>0||E(Object(p.m)(e))})},g.a.createElement(t.a,{sx:e=>({[e.fn.smallerThan("md")]:{marginTop:60},backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:"#fff"}),my:"md",shadow:"xs",radius:"md",p:"lg",withBorder:!0},"local"===(null===k||void 0===k?void 0:k.loginType)&&g.a.createElement(o.a,{p:"lg"},g.a.createElement("div",{className:j.indicatorRoot},g.a.createElement("span",{onClick:()=>{O.current.click()},className:j.indicator},g.a.createElement(w.a,{size:25})),g.a.createElement(l.a,{size:120,radius:"50%",src:null===k||void 0===k||null===(r=k.avatar)||void 0===r?void 0:r.url})),g.a.createElement(n.a,Object.assign({ref:O,placeholder:"Pick picture",label:"Your avatar",withAsterisk:!0,sx:{display:"none"}},N.getInputProps("userAvatar"))),g.a.createElement(d.a,{order:3,sx:e=>({fontFamily:e.fontFamily})},null===k||void 0===k?void 0:k.firstName," ",null===k||void 0===k?void 0:k.lastName)),g.a.createElement(o.a,{mb:"lg",position:"center",grow:!0},g.a.createElement(i.a,Object.assign({placeholder:"Your first name",label:"First Name"},N.getInputProps("firstName"),{sx:e=>({input:{background:"dark"===e.colorScheme?"#1f2124":"#e9e9ec"}})})),g.a.createElement(i.a,Object.assign({placeholder:"Your last name",label:"Last Name",sx:e=>({input:{background:"dark"===e.colorScheme?"#1f2124":"#e9e9ec"}})},N.getInputProps("lastName")))),g.a.createElement(o.a,{mb:"lg",position:"center",grow:!0},g.a.createElement(i.a,Object.assign({placeholder:"Your email address",label:"Email Address",sx:e=>({input:{background:"dark"===e.colorScheme?"#1f2124":"#e9e9ec"}})},N.getInputProps("email"))),g.a.createElement(i.a,Object.assign({placeholder:"Your username",label:"Username",sx:e=>({input:{background:"dark"===e.colorScheme?"#1f2124":"#e9e9ec"}})},N.getInputProps("username")))),(null===k||void 0===k||null===(s=k.providers)||void 0===s?void 0:s.includes("local"))&&g.a.createElement(c.a,Object.assign({mb:"md",placeholder:"Current password",label:"Current Password",styles:e=>({background:"dark"===e.colorScheme?"#1f2124":"#e9e9ec"})},N.getInputProps("currentPassword"))),g.a.createElement(c.a,Object.assign({mb:"md",placeholder:"New password",label:"New Password"},N.getInputProps("newPassword"))),g.a.createElement(c.a,Object.assign({mb:"md",placeholder:"Confirm new password",label:"Confirm New Password"},N.getInputProps("confirmPassword"))),g.a.createElement(u.a,{loading:P.loading,type:"submit",mt:"md",radius:"md",shadow:"sm"},"Save Changes")))}}}]);
//# sourceMappingURL=24.ca324e40.chunk.js.map